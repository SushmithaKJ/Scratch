{
    "version": "0.1",
    "type": "api",
    "configurable": true,
    "schedulable": true,
    "docker_image": "ecohub/user-management:v0.1",
    "config_parameters": [
        {
            "name": "user_parameters",
            "label": "User Parameters",
            "order": 1,
            "controls": [
                {
                    "label": "Create user",
                    "action": "USER_CREATE",
                    "message": "Creating new user",
                    "type": "icon",
                    "icon": {
                        "group": "action",
                        "name": "person_add"
                    }
                },
                {
                    "label": "Delete user",
                    "action": "USER_DELETE",
                    "message": "Deleting user",
                    "type": "icon",
                    "icon": {
                        "group": "action",
                        "name": "delete_forever"
                    }
                },
                {
                    "label": "Password reset",
                    "action": "USER_PWD_RESET",
                    "message": "Resetting password",
                    "type": "icon",
                    "icon": {
                        "group": "action",
                        "name": "360"
                    }
                }
            ],
            "items": [
                {
                    "name": "givenName",
                    "label": "Given Name",
                    "type": "text",
                    "environment_variable_name": "USER_GIVEN_NAME",
                    "required": false,
                    "placeholder": "user given or first name",
                    "order": 1,
                    "verify": true
                },
                {
                    "name": "surname",
                    "label": "Surname",
                    "type": "text",
                    "environment_variable_name": "USER_SURNAME",
                    "required": false,
                    "placeholder": "user last name or surname",
                    "order": 2,
                    "verify": true
                },
                {
                    "name": "userId",
                    "label": "CEC ID",
                    "type": "text",
                    "environment_variable_name": "USER_USERID",
                    "required": false,
                    "placeholder": "user ID",
                    "order": 3,
                    "verify": true
                }
            ]
        },
        {
            "name": "activedirectory_parameters",
            "label": "Active Directory (172.16.1.90)",
            "order": 2,
            "items": [
                {
                    "name": "adipaddr",
                    "label": "Primary IP address",
                    "type": "text",
                    "environment_variable_name": "AD_IPADDR",
                    "required": true,
                    "placeholder": "172.16.1.90",
                    "order": 1,
                    "verify": true
                },
                {
                    "name": "binduser",
                    "label": "Bind username",
                    "type": "text",
                    "environment_variable_name": "BIND_USER",
                    "required": true,
                    "placeholder": "ADbindAdminPriv",
                    "order": 2,
                    "verify": true
                },
                {
                    "name": "bindpassword",
                    "label": "Bind user password",
                    "type": "password",
                    "environment_variable_name": "BIND_PASSWORD",
                    "required": true,
                    "placeholder": "bind password",
                    "order": 3,
                    "verify": true
                }
            ]
        },
        {
            "name": "guacamole_parameters",
            "label": "Guacamole",
            "order": 3,
            "items": [
                {
                    "name": "guacdbhost",
                    "label": "DB hostname or IP",
                    "type": "text",
                    "environment_variable_name": "DB_HOST",
                    "required": true,
                    "placeholder": "172.16.1.34",
                    "order": 1,
                    "verify": true
                },
                {
                    "name": "guacdbport",
                    "label": "DB port",
                    "type": "text",
                    "environment_variable_name": "DB_PORT",
                    "required": true,
                    "placeholder": "3306",
                    "order": 2,
                    "verify": true
                },
                {
                    "name": "guacdbusername",
                    "label": "DB user",
                    "type": "text",
                    "environment_variable_name": "DB_USER",
                    "required": true,
                    "placeholder": "guac_user",
                    "order": 3,
                    "verify": true
                },
                {
                    "name": "guacdbpassword",
                    "label": "DB password",
                    "type": "password",
                    "environment_variable_name": "DB_PASSWORD",
                    "required": true,
                    "placeholder": "guac_password",
                    "order": 4,
                    "verify": true
                },
                {
                    "name": "guacdbname",
                    "label": "Primary AD IP address",
                    "type": "text",
                    "environment_variable_name": "DB_NAME",
                    "required": true,
                    "placeholder": "guac_db",
                    "order": 5,
                    "verify": true
                }
            ]
        },
        {
            "name": "aci_parameters",
            "label": "ACI",
            "order": 4,
            "items": [
                {
                    "name": "apicurl",
                    "label": "APIC URL",
                    "type": "text",
                    "environment_variable_name": "APIC_URL",
                    "required": true,
                    "placeholder": "http://172.16.107.11",
                    "order": 1,
                    "verify": true
                },
                {
                    "name": "apicusername",
                    "label": "APIC Username",
                    "type": "text",
                    "environment_variable_name": "APIC_USERNAME",
                    "required": true,
                    "placeholder": "apic#Local\\ucsd_aci_mgmt",
                    "order": 2,
                    "verify": true
                },
                {
                    "name": "apicpassword",
                    "label": "APIC Password",
                    "type": "password",
                    "environment_variable_name": "APIC_PASSWORD",
                    "required": true,
                    "placeholder": "password",
                    "order": 3,
                    "verify": true
                }
            ]
        },
        {
            "name": "tetration_parameters",
            "label": "Tetration",
            "order": 5,
            "items": [
                {
                    "name": "tetrationroles",
                    "label": "Additional roles",
                    "type": "fetch-list",
                    "fetch-target": "ROLES",
                    "environment_variable_name": "TETRATION_ROLES",
                    "required": true,
                    "placeholder": "additional roles to add to user",
                    "order": 1,
                    "verify": true
                }
            ]
        }
    ]
}
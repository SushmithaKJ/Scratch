{
    "version": "0.1",
    "type": "api",
    "configurable": true,
    "schedulable": true,
    "docker_image": "ecohub/usermgmt:v0.1",
    "config_parameters": [
        {
            "name": "connection_parameters",
            "label": "Active Directory",
            "order": 1,
            "items": [
                {
                    "name": "binduser",
                    "label": "Bind username",
                    "type": "text",
                    "environment_variable_name": "BIND_USER",
                    "required": true,
                    "placeholder": "ADbindAdminPriv",
                    "order": 1,
                    "verify": true
                },
                {
                    "name": "bindpassword",
                    "label": "Bind user password",
                    "type": "password",
                    "environment_variable_name": "BIND_PASSWORD",
                    "required": true,
                    "placeholder": "bind password",
                    "order": 2,
                    "verify": true
                },
                {
                    "name": "ad_ipaddr",
                    "label": "Primary AD IP address",
                    "type": "text",
                    "environment_variable_name": "AD_IPADDR",
                    "required": true,
                    "placeholder": "172.16.1.90",
                    "order": 3,
                    "verify": true
                }
            ]
        },
        {
            "name": "primary_parameters",
            "label": "Primary Parameters",
            "order": 2,
            "controls": [
                {
                    "label": "Create user",
                    "action": "user_create",
                    "message": "Creating new user",
                    "type": "icon",
                    "icon": {
                        "group": "action",
                        "name": "face"
                    }
                },
                {
                    "label": "Delete user",
                    "action": "user_delete",
                    "message": "Deleting user",
                    "type": "icon",
                    "icon": {
                        "group": "action",
                        "name": "delete_forever"
                    }
                },
                {
                    "label": "Password reset",
                    "action": "user_pwd_reset",
                    "message": "Resetting password",
                    "type": "icon",
                    "icon": {
                        "group": "action",
                        "name": "cached"
                    }
                }
            ],
            "items": [
                {
                    "name": "givenName",
                    "label": "Given Name",
                    "type": "text",
                    "environment_variable_name": "USER_GIVEN_NAME",
                    "required": true,
                    "placeholder": "user given or first name",
                    "order": 1,
                    "verify": true
                },
                {
                    "name": "surname",
                    "label": "Surname",
                    "type": "text",
                    "environment_variable_name": "USER_SURNAME",
                    "required": true,
                    "placeholder": "user last name or surname",
                    "order": 2,
                    "verify": true
                },
                {
                    "name": "userId",
                    "label": "CEC ID",
                    "type": "text",
                    "environment_variable_name": "USER_USERID",
                    "required": true,
                    "placeholder": "user ID",
                    "order": 3,
                    "verify": true
                }
            ]
        },
        {
            "name": "annotation_options",
            "label": "Additional Options",
            "order": 2,
            "items": [
                {
                    "name": "multitenant",
                    "label": "Multitenant",
                    "type": "switch",
                    "environment_variable_name": "MULTITENANT",
                    "value": false,
                    "popover": "Tetration Multitenant environment",
                    "placeholder": "",
                    "order": 1,
                    "verify": false,
                    "children": [
                        {
                            "name": "tenant_vrf",
                            "label": "Tenant VRF Name",
                            "type": "fetch-single",
                            "fetch_target": "VRFS",
                            "environment_variable_name": "TENANT_VRF",
                            "placeholder": "Tenant VRF Name",
                            "order": 1,
                            "verify": false
                        }
                    ]
                },
                {
                    "name": "appscope_name",
                    "label": "App Scope Name",
                    "type": "fetch-single",
                    "fetch_target": "SCOPES",
                    "environment_variable_name": "APPSCOPE_NAME",
                    "required": true,
                    "placeholder": "Application Scope Name",
                    "value": [{"label": "Default", "value": "Default"}],
                    "order": 2,
                    "verify": true
                },
                {
                    "name": "vm_name",
                    "label": "VM Name",
                    "type": "switch",
                    "environment_variable_name": "ENABLE_VM_NAME",
                    "value": true,
                    "popover": "VM name",
                    "placeholder": "",
                    "order": 3,
                    "verify": false,
                    "children": [
                        {
                            "name": "vm_name_annotation_name",
                            "label": "Tetration Annotation Name",
                            "type": "text",
                            "environment_variable_name": "VM_NAME_ANNOTATION_NAME",
                            "value": "VM Name",
                            "placeholder": "Tetration Annotation Name",
                            "order": 1,
                            "verify": false
                        }
                    ]
                },
                {
                    "name": "vm location",
                    "label": "VM Location",
                    "type": "switch",
                    "environment_variable_name": "ENABLE_VM_LOCATION",
                    "value": true,
                    "popover": "Location of VM (ESX Host/Cluster)",
                    "order": 4,
                    "verify": false,
                    "children": [
                        {
                            "name": "vm_location_annotation_name",
                            "label": "Tetration Annotation Name",
                            "type": "text",
                            "environment_variable_name": "VM_LOCATION_ANNOTATION_NAME",
                            "value": "VM Location",
                            "placeholder": "Tetration Annotation Name",
                            "order": 1,
                            "verify": false
                        }
                    ]
                },
                {
                    "name": "vm_tags",
                    "label": "VM Tags",
                    "type": "switch",
                    "environment_variable_name": "ENABLE_VM_TAGS",
                    "value": false,
                    "popover": "VM Tags (tag1=value1;tag2=value2;)",
                    "placeholder": "",
                    "order": 5,
                    "verify": false,
                    "children": [
                        {
                            "name": "vm_tags_annotation_name",
                            "label": "Tetration Annotation Name",
                            "type": "text",
                            "environment_variable_name": "VM_TAGS_ANNOTATION_NAME",
                            "value": "VM Tags",
                            "placeholder": "Tetration Annotation Name",
                            "order": 1,
                            "verify": false
                        }
                    ]
                },
                {
                    "name": "vm_attributes",
                    "label": "Custom Attributes",
                    "type": "switch",
                    "environment_variable_name": "ENABLE_CUSTOM_ATTRIBUTES",
                    "value": false,
                    "popover": "Custom Attributes (att1=value1;att2=value2;)",
                    "placeholder": "",
                    "order": 6,
                    "verify": false,
                    "children": [
                        {
                            "name": "custom_attributes_annotation_name",
                            "label": "Tetration Annotation Name",
                            "type": "text",
                            "environment_variable_name": "CUSTOM_ATTRIBUTES_ANNOTATION_NAME",
                            "value": "VM Custom Attributes",
                            "placeholder": "Tetration Annotation Name",
                            "order": 1,
                            "verify": false
                        }
                    ]
                },
                {
                    "name": "vm networks",
                    "label": "VM Networks",
                    "type": "switch",
                    "environment_variable_name": "ENABLE_VM_NETWORK",
                    "value": false,
                    "popover": "VM Networks (PortGroup-1,PortGroup-2)",
                    "order": 7,
                    "verify": false,
                    "children": [
                        {
                            "name": "vm_networks_annotation_name",
                            "label": "Tetration Annotation Name",
                            "type": "text",
                            "environment_variable_name": "VM_NETWORKS_ANNOTATION_NAME",
                            "value": "VM Networks",
                            "placeholder": "Tetration Annotation Name",
                            "order": 1,
                            "verify": false
                        }
                    ]
                }
            ]
        }
    ]
}